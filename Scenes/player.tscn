[gd_scene load_steps=7 format=3 uid="uid://7b7dokedkh24"]

[ext_resource type="Script" path="res://Scripts/player.gd" id="1_1kbvs"]
[ext_resource type="PackedScene" uid="uid://30bn6ns6kqaj" path="res://Scenes/player_camera.tscn" id="1_22vn5"]
[ext_resource type="Script" path="res://Scripts/CharacterManager.gd" id="4_0ux48"]
[ext_resource type="Script" path="res://Scripts/PlayerStateManager.gd" id="4_i1uqe"]
[ext_resource type="Script" path="res://Scripts/BuildingManager.gd" id="5_e5tqw"]
[ext_resource type="Script" path="res://Scripts/States/building_states/wall.gd" id="6_tqa3m"]

[node name="Player" type="Node3D"]
script = ExtResource("1_1kbvs")

[node name="PlayerCamera" parent="." instance=ExtResource("1_22vn5")]

[node name="StateManager" type="Node" parent="."]
script = ExtResource("4_i1uqe")

[node name="CharacterManager" type="Node" parent="StateManager"]
script = ExtResource("4_0ux48")

[node name="BuildingManager" type="Node" parent="StateManager" node_paths=PackedStringArray("initial_state")]
script = ExtResource("5_e5tqw")
initial_state = NodePath("Wall")

[node name="Wall" type="Node" parent="StateManager/BuildingManager"]
script = ExtResource("6_tqa3m")

[connection signal="mouse_position_3d" from="PlayerCamera" to="StateManager/CharacterManager" method="_on_player_camera_mouse_position_3d"]
[connection signal="mouse_position_3d" from="PlayerCamera" to="StateManager/BuildingManager/Wall" method="_on_player_camera_mouse_position_3d"]
